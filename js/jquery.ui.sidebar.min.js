if(window.jQuery&&window.jQuery.ui){(function(){window.sidebar=function(l){var j,b,d,f,k,m,a,h,e="closed",i,c,g;l=$.extend({},l||{});l.appendTo=l.appendTo||document.body;l.backdropOpacity=l.backdropOpacity||0.3;l.changeThreshold=l.changeThreshold||0.2;l.duration=l.duration||"0.4s";l.easing=l.easing||"easeOutCubic";l.intentFactor=l.intentFactor||0.5;if(l.side!=="right"){l.side="left"}l.swipeStartAreaFactor=l.swipeStartAreaFactor||1;m=l.side==="right";j=function(n){n=Math.min(Math.max(n,0),1);if(n!==a){var o=-f.width()*(1-n);if(n>0){f.add(b).css({visibility:"visible"})}if(b){b.stop(true).animate({opacity:l.backdropOpacity*n},{complete:function(){if(n<=0){b.css({visibility:"hidden"})}},easing:l.easing,queue:false})}console.log(o);f.css({transform:f.css("transform"),"transition-duration":"0s"});f.one({transitionend:function(p){if(n<=0){f.css({visibility:"hidden"})}$(k).trigger("animated")}}).css({transform:"translate3d("+o+"px, 0px, 0px)","transition-duration":l.duration});if(!!l.dontHover){$(l.appendTo).stop(true).animate({"margin-left":(m)?undefined:f.width()*n,"margin-right":(m)?f.width()*n:undefined},{easing:l.easing,queue:false})}if(n<=0){e="closed"}else{if(n>=1){e="open"}else{if(n>=a){e="opening"}else{e="closing"}}}a=n}};d=function(n){return{x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}};h=function(n){n.stopPropagation();n.preventDefault();n.returnValue=false;return false};g=l.zIndex||1000;if(!l.dontHover){b=$(document.createElement("div")).addClass("noSidebar").addClass("ui-widget-overlay").css({opacity:0,visibility:"hidden","z-index":g}).appendTo(l.appendTo)}f=$(document.createElement("div")).addClass("ui-widget-content").addClass("noSidebar").addClass("sidebar").css({bottom:0,margin:0,"overflow-x":"visible","overflow-y":"auto",position:"fixed",top:0,visibility:"hidden",width:l.width||"auto","transition-property":"transform","transition-timing-function":l.easing,"z-index":g}).appendTo(l.appendTo);if(l["class"]){f.addClass(l["class"])}if(l.fill){l.fill(f)}if(!l.width){l.width=f.width()}i=l.width.toString();if(typeof l.width==="number"){i="-"+i+"px"}if(m){cssPosition.right=0}else{f.css({transform:"translate3d("+i+", 0px, 0px)"})}$(l.appendTo).on({touchend:function(q){var p=f.width();if(c){var n=false,o=d(q);if(Math.abs(o.x-c.x)<((l.changeThreshold>1)?l.changeThreshold:p*l.changeThreshold)){switch(e){case"closing":k.open();n=true;break;case"opening":k.close();n=true;break}}else{switch(e){case"closing":k.close();n=true;break;case"opening":k.open();n=true;break}}c=undefined;if(n){return h(q)}}},touchmove:function(q){var r=$(q.target).closest(".sidebar").length>0,o=d(q),p,n=f.width();if(c){if(Math.abs((o.y-c.y)/(o.x-c.x))<=l.intentFactor){p=Math.abs(o.x-c.x)/n;if(m^(o.x<c.x)){p=1-p;if(r){j(p)}}else{if(!r){j(p)}}return h(q)}else{c=undefined;if(!r){k.close()}}}},"click touchstart":function(p){var o=$(l.appendTo).width(),r=$(p.target).closest(".sidebar").length>0,n=f.width(),q=(l.swipeStartAreaFactor>1)?l.swipeStartAreaFactor:o*l.swipeStartAreaFactor;c=undefined;if(!r&&k.isOpen()){if(!l.dontCloseOnClick){k.close()}}else{if(p.type==="touchstart"){if((r||!$(p.target).closest(".noSidebar").length)&&!$(".ui-widget-overlay").not(".noSidebar").length){c=d(p);if(!r){if(m){if(c.x<=o-q){c=undefined}}else{if(c.x>=q){c=undefined}}}}}}}});f.on({"DOMMouseScroll mousewheel touchscroll":function(s){var q=$(this),r=this.scrollTop,p=this.scrollHeight,o=q.height(),t=((s.type=="DOMMouseScroll")?s.originalEvent.detail*-40:s.originalEvent.wheelDelta),n=t>0;if(!n&&-t>p-o-r){q.scrollTop(p);return h(s)}else{if(n&&t>r){q.scrollTop(0);return h(s)}}}});return k={close:function(){j(0)},getSide:function(){return l.side},getSidebar:function(){return f},isOpen:function(){return e==="open"},open:function(){j(1)},status:function(){return e},toggle:function(){this[(this.isOpen())?"close":"open"]()}}}})()};